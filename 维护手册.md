# ä¸ªäººä½œå“é›†ç½‘ç«™ç»´æŠ¤æ‰‹å†Œ

## ğŸ“‹ ç›®å½•
- [1. é¡¹ç›®æ¦‚è§ˆ](#1-é¡¹ç›®æ¦‚è§ˆ)
- [2. ä»£ç ä½ç½®ä¸è´¦å·ä¿¡æ¯](#2-ä»£ç ä½ç½®ä¸è´¦å·ä¿¡æ¯)
- [3. æ–‡ä»¶ç®¡ç†](#3-æ–‡ä»¶ç®¡ç†)
- [4. æ—¥å¸¸ç»´æŠ¤æ“ä½œ](#4-æ—¥å¸¸ç»´æŠ¤æ“ä½œ)
- [5. å¸¸è§é—®é¢˜æ’æŸ¥](#5-å¸¸è§é—®é¢˜æ’æŸ¥)
- [6. æ¨¡å—å¼€å‘æŒ‡å—](#6-æ¨¡å—å¼€å‘æŒ‡å—)

---

## 1. é¡¹ç›®æ¦‚è§ˆ

### 1.1 æŠ€æœ¯æ ˆ
- **å‰ç«¯**: React + TypeScript + Vite + TailwindCSS
- **åç«¯**: Node.js + Express
- **æ•°æ®å­˜å‚¨**: JSON æ–‡ä»¶ï¼ˆbackend/data/ï¼‰
- **éƒ¨ç½²**: Nginx + PM2
- **ç‰ˆæœ¬æ§åˆ¶**: Git + GitHub

### 1.2 ç½‘ç«™åŠŸèƒ½æ¨¡å—
- ä¸ªäººä¿¡æ¯å±•ç¤º
- é¡¹ç›®ç®¡ç†ï¼ˆæ”¯æŒå¹´ä»½ã€é‡‘é¢ã€é™„ä»¶ï¼‰
- åšå®¢æ–‡ç« 
- æ–°é—»åŠ¨æ€
- å·¥ä½œç»å†
- æŠ€èƒ½ç®¡ç†
- å½±éŸ³ä¹¦ç±
- ç…§ç‰‡ç®¡ç†
- æ–‡æ¡£ç®¡ç†
- ç•™è¨€ç³»ç»Ÿ
- èƒŒæ™¯éŸ³ä¹
- å‹æƒ…é“¾æ¥
- è®¿é—®ç»Ÿè®¡

---

## 2. ä»£ç ä½ç½®ä¸è´¦å·ä¿¡æ¯

### 2.1 æœ¬åœ°å¼€å‘ç¯å¢ƒ

#### Windows æœ¬åœ°ä»£ç ä½ç½®
```
D:\TRAE\CC\personal-portfolio\
```

#### ç›®å½•ç»“æ„
```
personal-portfolio/
â”œâ”€â”€ src/                    # å‰ç«¯æºä»£ç 
â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ components/        # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ services/          # API æœåŠ¡
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ types/             # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ backend/               # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/       # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/     # åç«¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ middleware/   # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ server.js     # æœåŠ¡å™¨å…¥å£
â”‚   â”œâ”€â”€ data/             # JSON æ•°æ®æ–‡ä»¶
â”‚   â””â”€â”€ uploads/          # ä¸Šä¼ æ–‡ä»¶å­˜å‚¨
â”œâ”€â”€ dist/                  # å‰ç«¯æ„å»ºè¾“å‡ºï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ package.json           # é¡¹ç›®ä¾èµ–é…ç½®
â””â”€â”€ vite.config.ts        # Vite é…ç½®
```

### 2.2 GitHub ä»£ç ä»“åº“

#### ä»“åº“ä¿¡æ¯
- **ä»“åº“åœ°å€**: https://github.com/xxx0922/personal-portfolio.git
- **è´¦å·**: xxx0922
- **åˆ†æ”¯**: mainï¼ˆä¸»åˆ†æ”¯ï¼‰

#### è®¿é—®æ–¹å¼
```bash
# å…‹éš†ä»“åº“
git clone https://github.com/xxx0922/personal-portfolio.git

# æŸ¥çœ‹è¿œç¨‹ä»“åº“
git remote -v
```

### 2.3 æœåŠ¡å™¨ä¿¡æ¯

#### æœåŠ¡å™¨é…ç½®
- **æœåŠ¡å•†**: Google Cloud Platform
- **ä¸»æœºå**: instance-1kirpsgt
- **æ“ä½œç³»ç»Ÿ**: Linux (Ubuntu/Debian)
- **ç™»å½•è´¦å·**: root
- **ç™»å½•æ–¹å¼**: SSH

#### SSH è¿æ¥
```bash
ssh root@instance-1kirpsgt
# æˆ–ä½¿ç”¨ IP åœ°å€
ssh root@[æœåŠ¡å™¨IPåœ°å€]
```

#### æœåŠ¡å™¨ç›®å½•ç»“æ„
```
/root/personal-portfolio/          # é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ src/                           # å‰ç«¯æºç 
â”œâ”€â”€ backend/                       # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ data/                     # æ•°æ®æ–‡ä»¶
â”‚   â””â”€â”€ uploads/                  # ä¸Šä¼ çš„æ–‡ä»¶
â”œâ”€â”€ dist/                          # å‰ç«¯æ„å»ºæ–‡ä»¶
â””â”€â”€ node_modules/                 # ä¾èµ–åŒ…

/var/www/html/                     # Nginx å‰ç«¯éƒ¨ç½²ç›®å½•
â”œâ”€â”€ index.html                     # å‰ç«¯å…¥å£
â”œâ”€â”€ assets/                        # é™æ€èµ„æº
â””â”€â”€ uploads/ -> /root/personal-portfolio/backend/uploads/  # ä¸Šä¼ æ–‡ä»¶é“¾æ¥
```

#### æœåŠ¡ç®¡ç†
- **å‰ç«¯æœåŠ¡**: Nginx (ç«¯å£ 80/443)
- **åç«¯æœåŠ¡**: PM2 ç®¡ç† (ç«¯å£ 3001)
- **åç«¯è¿›ç¨‹å**: portfolio-backend

### 2.4 ç½‘ç«™è®¿é—®åœ°å€

#### ç”Ÿäº§ç¯å¢ƒ
- **ä¸»åŸŸå**: https://www.bohenan.com
- **åå°ç®¡ç†**: https://www.bohenan.com/admin
- **API åœ°å€**: https://www.bohenan.com/api (å®é™…åç«¯ç«¯å£ 3001)

#### æœ¬åœ°å¼€å‘
- **å‰ç«¯åœ°å€**: http://localhost:5173
- **åç«¯åœ°å€**: http://localhost:3001
- **ç®¡ç†åå°**: http://localhost:5173/admin

### 2.5 ç®¡ç†åå°è´¦å·

#### ç™»å½•ä¿¡æ¯
- **ç™»å½•é¡µé¢**: https://www.bohenan.com/admin/login
- **ç®¡ç†å‘˜è´¦å·**: admin
- **å¯†ç **: ï¼ˆè¯·æŸ¥çœ‹ backend/data/users.json æˆ–è”ç³»ç®¡ç†å‘˜ï¼‰

> âš ï¸ **å®‰å…¨æç¤º**: å®šæœŸæ›´æ”¹ç®¡ç†å‘˜å¯†ç ï¼Œä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å¯†ç 

---

## 3. æ–‡ä»¶ç®¡ç†

### 3.1 ä¸Šä¼ æ–‡ä»¶ä½ç½®

#### æœåŠ¡å™¨ä¸Šä¼ æ–‡ä»¶å­˜å‚¨ä½ç½®
```
/root/personal-portfolio/backend/uploads/
```

#### æ–‡ä»¶ç±»å‹
- **å›¾ç‰‡**: JPG, PNG, WEBP, GIF
- **æ–‡æ¡£**: PDF, DOC, DOCX, XLS, XLSX
- **éŸ³é¢‘**: MP3, WAV, OGG
- **è§†é¢‘**: MP4, WEBM, OGG, MOV

### 3.2 æŸ¥çœ‹ä¸Šä¼ çš„æ–‡ä»¶

```bash
# è¿æ¥æœåŠ¡å™¨
ssh root@instance-1kirpsgt

# è¿›å…¥ä¸Šä¼ ç›®å½•
cd /root/personal-portfolio/backend/uploads/

# åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ï¼ˆæŒ‰æ—¶é—´æ’åºï¼‰
ls -lht

# æŸ¥çœ‹æ–‡ä»¶å¤§å°
du -sh *

# æŸ¥çœ‹æ€»å¤§å°
du -sh .
```

### 3.3 åˆ é™¤ä¸Šä¼ çš„æ–‡ä»¶

#### æ–¹æ³•ä¸€ï¼šç›´æ¥åˆ é™¤ï¼ˆæ¨èè°¨æ…æ“ä½œï¼‰

```bash
# è¿›å…¥ä¸Šä¼ ç›®å½•
cd /root/personal-portfolio/backend/uploads/

# æŸ¥çœ‹æ–‡ä»¶
ls -l

# åˆ é™¤å•ä¸ªæ–‡ä»¶ï¼ˆæ›¿æ¢ filename ä¸ºå®é™…æ–‡ä»¶åï¼‰
rm filename.jpg

# åˆ é™¤å¤šä¸ªæ–‡ä»¶
rm file1.jpg file2.pdf file3.mp3

# åˆ é™¤æŸä¸ªæ—¥æœŸçš„æ–‡ä»¶ï¼ˆä¾‹å¦‚ 2024-12-10ï¼‰
rm *2024-12-10*

# æ¸…ç©ºæ•´ä¸ªç›®å½•ï¼ˆå±é™©æ“ä½œï¼ä¼šåˆ é™¤æ‰€æœ‰æ–‡ä»¶ï¼‰
# rm -rf /root/personal-portfolio/backend/uploads/*
```

#### æ–¹æ³•äºŒï¼šé€šè¿‡ç®¡ç†åå°åˆ é™¤

1. ç™»å½•ç®¡ç†åå°
2. è¿›å…¥"æ–‡ä»¶ç®¡ç†"æ ‡ç­¾
3. æ‰¾åˆ°è¦åˆ é™¤çš„æ–‡ä»¶
4. ç‚¹å‡»"åˆ é™¤"æŒ‰é’®

> âš ï¸ **é‡è¦æç¤º**:
> - åˆ é™¤æ–‡ä»¶å‰è¯·å…ˆå¤‡ä»½
> - ç¡®è®¤æ–‡ä»¶æ²¡æœ‰è¢«ä»»ä½•å†…å®¹å¼•ç”¨
> - å¦‚æœåˆ é™¤åç½‘ç«™æ˜¾ç¤ºå›¾ç‰‡ä¸¢å¤±ï¼Œéœ€è¦åœ¨ç®¡ç†åå°é‡æ–°ä¸Šä¼ 

### 3.4 å¤‡ä»½æ–‡ä»¶

```bash
# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p /root/backups/uploads

# å¤‡ä»½å½“å‰æ‰€æœ‰ä¸Šä¼ æ–‡ä»¶
tar -czf /root/backups/uploads/uploads-$(date +%Y%m%d).tar.gz \
  /root/personal-portfolio/backend/uploads/

# åˆ—å‡ºå¤‡ä»½æ–‡ä»¶
ls -lh /root/backups/uploads/

# æ¢å¤å¤‡ä»½ï¼ˆå¦‚éœ€è¦ï¼‰
tar -xzf /root/backups/uploads/uploads-20241210.tar.gz -C /
```

### 3.5 æ¸…ç†ç¼©ç•¥å›¾

```bash
# ç¼©ç•¥å›¾ç›®å½•
cd /root/personal-portfolio/backend/uploads/thumbnails/

# åˆ é™¤æ‰€æœ‰ç¼©ç•¥å›¾ï¼ˆä¼šè‡ªåŠ¨é‡æ–°ç”Ÿæˆï¼‰
rm -rf /root/personal-portfolio/backend/uploads/thumbnails/*
```

---

## 4. æ—¥å¸¸ç»´æŠ¤æ“ä½œ

### 4.1 ä»£ç æ›´æ–°æµç¨‹

#### æœ¬åœ°å¼€å‘å®Œæˆåéƒ¨ç½²

```bash
# === åœ¨ Windows æœ¬åœ° ===
cd D:\TRAE\CC\personal-portfolio

# 1. æŸ¥çœ‹ä¿®æ”¹çš„æ–‡ä»¶
git status

# 2. æ·»åŠ ä¿®æ”¹åˆ°æš‚å­˜åŒº
git add .

# 3. æäº¤ä¿®æ”¹
git commit -m "æè¿°ä½ çš„ä¿®æ”¹å†…å®¹"

# 4. æ¨é€åˆ° GitHub
git push origin main

# === åœ¨æœåŠ¡å™¨ä¸Š ===
ssh root@instance-1kirpsgt

# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /root/personal-portfolio

# 2. æš‚å­˜æœ¬åœ°ä¿®æ”¹ï¼ˆå¦‚æœæœ‰ï¼‰
git stash

# 3. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# 4. å®‰è£…æ–°ä¾èµ–ï¼ˆå¦‚æœ‰ï¼‰
npm install

# 5. æ„å»ºå‰ç«¯
npm run build

# 6. éƒ¨ç½²å‰ç«¯åˆ° Nginx
cp -r dist/* /var/www/html/

# 7. é‡å¯åç«¯æœåŠ¡ï¼ˆå¦‚æœåç«¯æœ‰ä¿®æ”¹ï¼‰
pm2 restart portfolio-backend

# 8. é‡è½½ Nginx
systemctl reload nginx

# 9. æŸ¥çœ‹æœåŠ¡çŠ¶æ€
pm2 status
pm2 logs portfolio-backend --lines 50
```

### 4.2 æœåŠ¡ç®¡ç†

#### æŸ¥çœ‹æœåŠ¡çŠ¶æ€

```bash
# æŸ¥çœ‹åç«¯æœåŠ¡çŠ¶æ€
pm2 status

# æŸ¥çœ‹åç«¯æ—¥å¿—
pm2 logs portfolio-backend

# æŸ¥çœ‹æœ€è¿‘ 100 è¡Œæ—¥å¿—
pm2 logs portfolio-backend --lines 100

# æŸ¥çœ‹ Nginx çŠ¶æ€
systemctl status nginx

# æµ‹è¯• Nginx é…ç½®
nginx -t
```

#### é‡å¯æœåŠ¡

```bash
# é‡å¯åç«¯æœåŠ¡
pm2 restart portfolio-backend

# é‡è½½åç«¯æœåŠ¡ï¼ˆä¸åœæœºï¼‰
pm2 reload portfolio-backend

# åœæ­¢åç«¯æœåŠ¡
pm2 stop portfolio-backend

# å¯åŠ¨åç«¯æœåŠ¡
pm2 start portfolio-backend

# é‡å¯ Nginx
systemctl restart nginx

# é‡è½½ Nginx é…ç½®ï¼ˆä¸åœæœºï¼‰
systemctl reload nginx
```

#### æŸ¥çœ‹ç«¯å£å ç”¨

```bash
# æŸ¥çœ‹ç«¯å£ 3001ï¼ˆåç«¯ï¼‰
netstat -tulnp | grep 3001

# æŸ¥çœ‹ç«¯å£ 80ï¼ˆNginxï¼‰
netstat -tulnp | grep 80

# æŸ¥çœ‹æ‰€æœ‰ç›‘å¬ç«¯å£
netstat -tulnp
```

### 4.3 æ•°æ®åº“å¤‡ä»½

```bash
# å¤‡ä»½æ•°æ®æ–‡ä»¶
cd /root/personal-portfolio

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p /root/backups/data

# å¤‡ä»½æ‰€æœ‰æ•°æ®
tar -czf /root/backups/data/data-$(date +%Y%m%d-%H%M).tar.gz \
  backend/data/

# è‡ªåŠ¨å¤‡ä»½è„šæœ¬ï¼ˆå¯æ·»åŠ åˆ° crontabï¼‰
cat > /root/backup-data.sh << 'EOF'
#!/bin/bash
DATE=$(date +%Y%m%d-%H%M)
tar -czf /root/backups/data/data-$DATE.tar.gz \
  /root/personal-portfolio/backend/data/
# åªä¿ç•™æœ€è¿‘ 30 å¤©çš„å¤‡ä»½
find /root/backups/data/ -name "data-*.tar.gz" -mtime +30 -delete
EOF

chmod +x /root/backup-data.sh

# æ·»åŠ åˆ°å®šæ—¶ä»»åŠ¡ï¼ˆæ¯å¤©å‡Œæ™¨ 2 ç‚¹å¤‡ä»½ï¼‰
crontab -e
# æ·»åŠ è¿™è¡Œï¼š
# 0 2 * * * /root/backup-data.sh
```

### 4.4 æŸ¥çœ‹ç³»ç»Ÿèµ„æº

```bash
# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨
df -h

# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
free -h

# æŸ¥çœ‹ CPU ä½¿ç”¨
top
# æŒ‰ q é€€å‡º

# æŸ¥çœ‹é¡¹ç›®ç›®å½•å¤§å°
du -sh /root/personal-portfolio/

# æŸ¥çœ‹ä¸Šä¼ æ–‡ä»¶å¤§å°
du -sh /root/personal-portfolio/backend/uploads/
```

### 4.5 æ—¥å¿—ç®¡ç†

```bash
# æŸ¥çœ‹ PM2 æ—¥å¿—ç›®å½•
ls -lh /root/.pm2/logs/

# æ¸…ç©ºæ—¥å¿—
pm2 flush

# æŸ¥çœ‹ Nginx è®¿é—®æ—¥å¿—
tail -f /var/log/nginx/access.log

# æŸ¥çœ‹ Nginx é”™è¯¯æ—¥å¿—
tail -f /var/log/nginx/error.log

# æ¸…ç†æ—§æ—¥å¿—
find /var/log/nginx/ -name "*.log.*" -mtime +30 -delete
```

---

## 5. å¸¸è§é—®é¢˜æ’æŸ¥

### 5.1 ç½‘ç«™æ— æ³•è®¿é—®

```bash
# 1. æ£€æŸ¥ Nginx çŠ¶æ€
systemctl status nginx

# 2. æ£€æŸ¥ Nginx é…ç½®
nginx -t

# 3. é‡å¯ Nginx
systemctl restart nginx

# 4. æŸ¥çœ‹ Nginx é”™è¯¯æ—¥å¿—
tail -n 100 /var/log/nginx/error.log

# 5. æ£€æŸ¥é˜²ç«å¢™
ufw status
```

### 5.2 åç«¯ API æŠ¥é”™

```bash
# 1. æŸ¥çœ‹åç«¯æœåŠ¡çŠ¶æ€
pm2 status

# 2. æŸ¥çœ‹åç«¯æ—¥å¿—
pm2 logs portfolio-backend --lines 100

# 3. é‡å¯åç«¯
pm2 restart portfolio-backend

# 4. å¦‚æœæ— æ³•å¯åŠ¨ï¼Œæ‰‹åŠ¨è¿è¡ŒæŸ¥çœ‹é”™è¯¯
cd /root/personal-portfolio/backend
node src/server.js
```

### 5.3 ä¸Šä¼ æ–‡ä»¶å¤±è´¥

```bash
# 1. æ£€æŸ¥ä¸Šä¼ ç›®å½•æƒé™
ls -ld /root/personal-portfolio/backend/uploads/

# 2. ä¿®å¤æƒé™
chmod 755 /root/personal-portfolio/backend/uploads/
chown -R root:root /root/personal-portfolio/backend/uploads/

# 3. æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h

# 4. æŸ¥çœ‹ä¸Šä¼ å¤§å°é™åˆ¶ï¼ˆbackend/src/routes/upload.jsï¼‰
# å›¾ç‰‡é™åˆ¶: 10MB
# æ–‡ä»¶é™åˆ¶: 50MB
```

### 5.4 æ›´æ–°ä»£ç åå‰ç«¯æ²¡å˜åŒ–

```bash
# æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼Œæˆ–è€…

# 1. ç¡®è®¤æ„å»ºæˆåŠŸ
cd /root/personal-portfolio
npm run build

# 2. ç¡®è®¤æ–‡ä»¶å·²å¤åˆ¶
ls -lh /var/www/html/

# 3. æ¸…é™¤ Nginx ç¼“å­˜ï¼ˆå¦‚æœ‰ï¼‰
systemctl reload nginx

# 4. æ£€æŸ¥æ–‡ä»¶æƒé™
chmod -R 755 /var/www/html/
```

### 5.5 Git æ¨é€å¤±è´¥

```bash
# å¦‚æœé‡åˆ°ç½‘ç»œé—®é¢˜

# æ–¹æ³•1: é‡è¯•å‡ æ¬¡
git push origin main

# æ–¹æ³•2: æ£€æŸ¥è¿œç¨‹ä»“åº“
git remote -v

# æ–¹æ³•3: é‡æ–°é…ç½®è¿œç¨‹ä»“åº“
git remote set-url origin https://github.com/xxx0922/personal-portfolio.git
```

---

## 6. æ¨¡å—å¼€å‘æŒ‡å—

### 6.1 æ·»åŠ æ–°åŠŸèƒ½æ¨¡å—

#### æ­¥éª¤æ¦‚è¿°

**å‰ç«¯å¼€å‘ï¼ˆ4æ­¥ï¼‰**
1. å®šä¹‰æ•°æ®ç±»å‹ï¼ˆ`src/types/index.ts`ï¼‰
2. åˆ›å»ºç®¡ç†ç»„ä»¶ï¼ˆ`src/components/admin/XXXManager.tsx`ï¼‰
3. æ·»åŠ åˆ°ç®¡ç†åå°ï¼ˆ`src/pages/AdminPage.tsx`ï¼‰
4. åˆ›å»ºå‰å°å±•ç¤ºé¡µé¢ï¼ˆå¯é€‰ï¼‰

**åç«¯å¼€å‘ï¼ˆ3æ­¥ï¼‰**
1. åˆ›å»ºæ•°æ®å­˜å‚¨ï¼ˆ`backend/data/xxx.json`ï¼‰
2. åˆ›å»º API è·¯ç”±ï¼ˆ`backend/src/routes/xxx.js`ï¼‰
3. æ³¨å†Œè·¯ç”±ï¼ˆ`backend/src/server.js`ï¼‰

#### è¯¦ç»†æ­¥éª¤ç¤ºä¾‹ï¼šæ·»åŠ "å›¢é˜Ÿæˆå‘˜"æ¨¡å—

##### å‰ç«¯å¼€å‘

```typescript
// === æ­¥éª¤1: å®šä¹‰ç±»å‹ (src/types/index.ts) ===
export interface TeamMember {
  id: string;
  name: string;
  position: string;
  avatar: string;
  bio: string;
  email: string;
  phone: string;
  skills: string[];
  joinDate: string;
}

// === æ­¥éª¤2: åˆ›å»ºç®¡ç†ç»„ä»¶ (src/components/admin/TeamManager.tsx) ===
// åŒ…å«ï¼šåˆ—è¡¨å±•ç¤ºã€æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤åŠŸèƒ½
import React, { useState, useEffect } from 'react';

function TeamManager() {
  const [members, setMembers] = useState<TeamMember[]>([]);

  // åŠ è½½æ•°æ®
  const loadMembers = async () => {
    const response = await fetch('/api/team');
    const data = await response.json();
    setMembers(data);
  };

  // æ·»åŠ æˆå‘˜
  const handleAdd = async (member) => {
    await fetch('/api/team', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(member)
    });
    loadMembers();
  };

  // ... ç¼–è¾‘ã€åˆ é™¤ç­‰åŠŸèƒ½

  return (
    <div>
      <h2>å›¢é˜Ÿæˆå‘˜ç®¡ç†</h2>
      {/* åˆ—è¡¨å’Œè¡¨å• */}
    </div>
  );
}

// === æ­¥éª¤3: æ·»åŠ åˆ°ç®¡ç†åå° (src/pages/AdminPage.tsx) ===
// åœ¨å¯¼èˆªæ•°ç»„ä¸­æ·»åŠ ï¼š
{ id: 'team', label: 'å›¢é˜Ÿæˆå‘˜' }

// åœ¨å†…å®¹åŒºåŸŸæ·»åŠ ï¼š
{activeTab === 'team' && <TeamManager />}

// === æ­¥éª¤4: åˆ›å»ºå‰å°å±•ç¤ºé¡µé¢ (src/pages/TeamPage.tsx) ===
// å±•ç¤ºå›¢é˜Ÿæˆå‘˜åˆ—è¡¨
```

##### åç«¯å¼€å‘

```javascript
// === æ­¥éª¤1: åˆ›å»ºæ•°æ®æ–‡ä»¶ (backend/data/team.json) ===
[]

// === æ­¥éª¤2: åˆ›å»ºè·¯ç”± (backend/src/routes/team.js) ===
import express from 'express';
import { readData, writeData } from '../services/dataService.js';
import { authenticateToken } from '../middleware/auth.js';

const router = express.Router();

// GET è·å–æ‰€æœ‰æˆå‘˜
router.get('/', async (req, res) => {
  const members = await readData('team');
  res.json(members || []);
});

// POST æ·»åŠ æˆå‘˜ï¼ˆéœ€è¦è®¤è¯ï¼‰
router.post('/', authenticateToken, async (req, res) => {
  const members = await readData('team') || [];
  const newMember = {
    id: Date.now().toString(),
    ...req.body,
    createdAt: new Date().toISOString()
  };
  members.push(newMember);
  await writeData('team', members);
  res.status(201).json(newMember);
});

// PUT æ›´æ–°æˆå‘˜
router.put('/:id', authenticateToken, async (req, res) => {
  const members = await readData('team') || [];
  const index = members.findIndex(m => m.id === req.params.id);
  if (index !== -1) {
    members[index] = { ...members[index], ...req.body };
    await writeData('team', members);
    res.json(members[index]);
  } else {
    res.status(404).json({ error: 'æˆå‘˜ä¸å­˜åœ¨' });
  }
});

// DELETE åˆ é™¤æˆå‘˜
router.delete('/:id', authenticateToken, async (req, res) => {
  const members = await readData('team') || [];
  const filtered = members.filter(m => m.id !== req.params.id);
  await writeData('team', filtered);
  res.json({ message: 'åˆ é™¤æˆåŠŸ' });
});

export default router;

// === æ­¥éª¤3: æ³¨å†Œè·¯ç”± (backend/src/server.js) ===
// æ·»åŠ å¯¼å…¥ï¼š
import teamRoutes from './routes/team.js';

// æ·»åŠ è·¯ç”±ï¼š
app.use('/api/team', teamRoutes);
```

##### éƒ¨ç½²æ–°æ¨¡å—

```bash
# 1. æäº¤ä»£ç 
git add .
git commit -m "Add team members module"
git push origin main

# 2. æœåŠ¡å™¨éƒ¨ç½²
ssh root@instance-1kirpsgt
cd /root/personal-portfolio
git pull origin main
npm run build
cp -r dist/* /var/www/html/
pm2 restart portfolio-backend
systemctl reload nginx
```

### 6.2 ä¿®æ”¹ç°æœ‰æ¨¡å—

```bash
# 1. ç¡®å®šè¦ä¿®æ”¹çš„æ–‡ä»¶ä½ç½®
# å‰ç«¯: src/pages/ æˆ– src/components/
# åç«¯: backend/src/routes/

# 2. æœ¬åœ°ä¿®æ”¹ä»£ç å¹¶æµ‹è¯•
npm run dev  # å‰ç«¯
# åç«¯åœ¨å¦ä¸€ä¸ªç»ˆç«¯: cd backend && npm run dev

# 3. æäº¤å’Œéƒ¨ç½²ï¼ˆåŒä¸Šï¼‰
```

### 6.3 æ·»åŠ æ–°çš„ API ç«¯ç‚¹

```javascript
// åœ¨å¯¹åº”çš„è·¯ç”±æ–‡ä»¶ä¸­æ·»åŠ 
// ä¾‹å¦‚: backend/src/routes/projects.js

// GET ç¤ºä¾‹
router.get('/custom-endpoint', async (req, res) => {
  // å¤„ç†é€»è¾‘
  res.json({ data: 'your data' });
});

// POST ç¤ºä¾‹ï¼ˆéœ€è¦è®¤è¯ï¼‰
router.post('/custom-endpoint', authenticateToken, async (req, res) => {
  // å¤„ç†é€»è¾‘
  res.json({ message: 'success' });
});
```

### 6.4 ä¿®æ”¹æ•°æ®åº“ç»“æ„

```bash
# 1. å¤‡ä»½ç°æœ‰æ•°æ®
cd /root/personal-portfolio
cp backend/data/xxx.json backend/data/xxx.json.backup

# 2. ä¿®æ”¹ç±»å‹å®šä¹‰ (src/types/index.ts)
# æ·»åŠ æˆ–åˆ é™¤å­—æ®µ

# 3. æ›´æ–°å‰ç«¯ç»„ä»¶ä½¿ç”¨æ–°å­—æ®µ

# 4. å¦‚éœ€è¦ï¼Œç¼–å†™æ•°æ®è¿ç§»è„šæœ¬
# ä¾‹å¦‚: backend/scripts/migrate-xxx.js

# 5. æµ‹è¯•åéƒ¨ç½²
```

### 6.5 æ ·å¼è°ƒæ•´

```bash
# å…¨å±€æ ·å¼: src/index.css
# Tailwind é…ç½®: tailwind.config.js
# ç»„ä»¶æ ·å¼: ç›´æ¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ Tailwind classes

# ä¿®æ”¹ä¸»é¢˜è‰²
# ç¼–è¾‘ tailwind.config.js ä¸­çš„ colors é…ç½®
```

---

## 7. å®‰å…¨å»ºè®®

### 7.1 å®šæœŸå®‰å…¨æ£€æŸ¥

```bash
# 1. æ›´æ–°ä¾èµ–åŒ…
npm audit
npm audit fix

# 2. æ£€æŸ¥æœªä½¿ç”¨çš„ä¾èµ–
npm prune

# 3. æ›´æ–°ç³»ç»ŸåŒ…
apt update && apt upgrade -y

# 4. æ£€æŸ¥æœåŠ¡å™¨å®‰å…¨
# - å®šæœŸæ›´æ”¹å¯†ç 
# - å¯ç”¨é˜²ç«å¢™
# - é™åˆ¶ SSH è®¿é—®
# - é…ç½® fail2ban
```

### 7.2 å¤‡ä»½ç­–ç•¥

```bash
# æ¯å¤©è‡ªåŠ¨å¤‡ä»½é‡è¦æ•°æ®
# - æ•°æ®æ–‡ä»¶ï¼ˆbackend/data/ï¼‰
# - ä¸Šä¼ æ–‡ä»¶ï¼ˆbackend/uploads/ï¼‰
# - Nginx é…ç½®
# - æ•°æ®åº“ï¼ˆå¦‚æœ‰ï¼‰

# ä¿ç•™ç­–ç•¥ï¼š
# - æœ€è¿‘ 7 å¤©ï¼šæ¯å¤©å¤‡ä»½
# - æœ€è¿‘ 4 å‘¨ï¼šæ¯å‘¨å¤‡ä»½
# - æœ€è¿‘ 12 æœˆï¼šæ¯æœˆå¤‡ä»½
```

### 7.3 ç›‘æ§å»ºè®®

- ä½¿ç”¨ PM2 ç›‘æ§åç«¯æœåŠ¡
- é…ç½®æœåŠ¡å™¨ç›‘æ§ï¼ˆCPUã€å†…å­˜ã€ç£ç›˜ï¼‰
- è®¾ç½®é”™è¯¯æ—¥å¿—å‘Šè­¦
- å®šæœŸæ£€æŸ¥ç½‘ç«™å¯è®¿é—®æ€§

---

## 8. è”ç³»ä¸æ”¯æŒ

### å¼€å‘ç›¸å…³é—®é¢˜
- æŸ¥çœ‹é¡¹ç›® README.md
- æŸ¥çœ‹ä»£ç æ³¨é‡Š
- å‚è€ƒæœ¬ç»´æŠ¤æ‰‹å†Œ

### æœåŠ¡å™¨é—®é¢˜
- æ£€æŸ¥æ—¥å¿—æ–‡ä»¶
- å‚è€ƒ"å¸¸è§é—®é¢˜æ’æŸ¥"ç« èŠ‚
- è”ç³»æœåŠ¡å™¨ç®¡ç†å‘˜

### ç´§æ€¥æƒ…å†µå¤„ç†
1. ç½‘ç«™å®Œå…¨æ— æ³•è®¿é—® â†’ æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€å’Œ Nginx
2. æ•°æ®ä¸¢å¤± â†’ ä»å¤‡ä»½æ¢å¤
3. è¢«æ”»å‡» â†’ ç«‹å³å…³é—­æœåŠ¡å™¨ï¼Œæ£€æŸ¥æ—¥å¿—ï¼Œä¿®å¤æ¼æ´

---

## 9. å¿«é€Ÿå‚è€ƒ

### å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# === æœ¬åœ°å¼€å‘ ===
npm run dev          # å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
cd backend && npm run dev  # å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨
npm run build        # æ„å»ºç”Ÿäº§ç‰ˆæœ¬

# === æœåŠ¡å™¨æ“ä½œ ===
ssh root@instance-1kirpsgt  # è¿æ¥æœåŠ¡å™¨
cd /root/personal-portfolio  # è¿›å…¥é¡¹ç›®ç›®å½•
git pull origin main         # æ‹‰å–æœ€æ–°ä»£ç 
npm run build                # æ„å»º
cp -r dist/* /var/www/html/  # éƒ¨ç½²
pm2 restart portfolio-backend  # é‡å¯åç«¯
systemctl reload nginx       # é‡è½½ Nginx

# === æœåŠ¡ç®¡ç† ===
pm2 status                   # æŸ¥çœ‹æœåŠ¡çŠ¶æ€
pm2 logs portfolio-backend   # æŸ¥çœ‹æ—¥å¿—
systemctl status nginx       # Nginx çŠ¶æ€
nginx -t                     # æµ‹è¯• Nginx é…ç½®

# === æ–‡ä»¶ç®¡ç† ===
cd /root/personal-portfolio/backend/uploads/  # è¿›å…¥ä¸Šä¼ ç›®å½•
ls -lht                      # åˆ—å‡ºæ–‡ä»¶
rm filename                  # åˆ é™¤æ–‡ä»¶
du -sh .                     # æŸ¥çœ‹ç›®å½•å¤§å°
```

### é‡è¦æ–‡ä»¶è·¯å¾„

| ç±»å‹ | è·¯å¾„ |
|------|------|
| å‰ç«¯æºç  | `/root/personal-portfolio/src/` |
| åç«¯æºç  | `/root/personal-portfolio/backend/src/` |
| æ•°æ®æ–‡ä»¶ | `/root/personal-portfolio/backend/data/` |
| ä¸Šä¼ æ–‡ä»¶ | `/root/personal-portfolio/backend/uploads/` |
| å‰ç«¯éƒ¨ç½² | `/var/www/html/` |
| Nginx é…ç½® | `/etc/nginx/` |
| PM2 æ—¥å¿— | `/root/.pm2/logs/` |

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2024-12-10
**ç»´æŠ¤äººå‘˜**: Claude AI è¾…åŠ©ç”Ÿæˆ

---

## é™„å½•ï¼šå®Œæ•´éƒ¨ç½²æ¸…å•

### é¦–æ¬¡éƒ¨ç½²æ­¥éª¤

```bash
# 1. æœåŠ¡å™¨ç¯å¢ƒå‡†å¤‡
apt update && apt upgrade -y
apt install -y nodejs npm nginx git

# 2. å®‰è£… PM2
npm install -g pm2

# 3. å…‹éš†ä»£ç 
cd /root
git clone https://github.com/xxx0922/personal-portfolio.git
cd personal-portfolio

# 4. å®‰è£…ä¾èµ–
npm install
cd backend && npm install && cd ..

# 5. æ„å»ºå‰ç«¯
npm run build

# 6. é…ç½® Nginx
# ç¼–è¾‘ /etc/nginx/sites-available/default
# é…ç½®åå‘ä»£ç†å’Œé™æ€æ–‡ä»¶æœåŠ¡

# 7. å¯åŠ¨åç«¯
cd backend
pm2 start src/server.js --name portfolio-backend
pm2 save
pm2 startup

# 8. éƒ¨ç½²å‰ç«¯
cp -r dist/* /var/www/html/

# 9. åˆ›å»ºä¸Šä¼ æ–‡ä»¶è½¯é“¾æ¥
ln -s /root/personal-portfolio/backend/uploads /var/www/html/uploads

# 10. é‡å¯æœåŠ¡
systemctl restart nginx
pm2 restart portfolio-backend

# 11. éªŒè¯
curl http://localhost:3001/api/health  # åç«¯å¥åº·æ£€æŸ¥
curl http://localhost/                 # å‰ç«¯è®¿é—®
```

---

**ç»“æŸè¯­**: æœ¬æ‰‹å†Œæ¶µç›–äº†æ—¥å¸¸ç»´æŠ¤çš„å¤§éƒ¨åˆ†åœºæ™¯ã€‚å¦‚é‡åˆ°æ‰‹å†Œæœªè¦†ç›–çš„é—®é¢˜ï¼Œè¯·å‚è€ƒé¡¹ç›®æºç æ³¨é‡Šæˆ–è”ç³»æŠ€æœ¯æ”¯æŒã€‚
